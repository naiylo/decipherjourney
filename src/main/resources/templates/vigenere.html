<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenère Cipher - Free Play</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/styles/vigenerecipher.css">

    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>

    <header>
        <a href="/freeplay" class="back-arrow">
            <i class="fas fa-arrow-left"></i>
        </a>
        <div class="tutorial-container">
            <h1>Vigenère Verschlüsselung</h1>
            <p>Die Vigenère-Verschlüsselung ist eine einfache Verschlüsselungstechnik, die ein Schlüsselwort nutzt. Die Zeichen des Schlüsselwortes stehen dabei für ihre 
               jeweilige Zahl im Alphabet. Die zeichen des ursprünglichen Textes werden dann der Reihenfolge nach um die aufeinanderfolgenden Zahlen verschoben. Damit ist nicht jedes A der selbe Buchstabe
               aber bei einer Schlüssellänge von 4 jeder vierte Buchstabe um die selbe Zahl vom vierten Zeichen im Schlüssel verschoben. </p>
            <button id="open-modal-btn" name="open-modal-btn" class="tutorial-button">Tutorial ansehen</button>
        </div>
        <div class="help-container">
            <i class="fas fa-question-circle help-icon" id="help-icon"></i>
            <div class="help-text" id="help-text">
                <h3>Erklärung:</h3>
                <br>        
                <p>Unter verschlüsselter Text können sie den verschlüsselten Text sehen. Hier wird auch die Lösung angezeigt sollten sie sich dafür entscheiden aufzugeben
                                                    und den <strong>"Reveal the original Text"</strong> Button zu klicken. Mit dem <strong>"Tryout a new cipher"</strong> Button können sie eine 
                                                    komplett neu verschlüsselte Nachricht erhalten.                    
        </div>
    </header>

    <!-- Modal -->
    <div id="tutorial-modal" class="modal hidden">
        <div class="modal-content">
            <span id="close-modal-btn" name="close-modal-btn" class="close">&times;</span>
            <video id="video" name="video" autoplay muted loop>
                <source src="/video/TutorialCaesarCipher.webm" type="video/webm">
                Ihr Browser unterstützt dieses Videoformat nicht.
            </video>
        </div>
    </div>

    <main>
        <div class="cipher-container">
            <div class="notes-container"> 
                <div class="notes-text">   
                    <h1>Notizen:</h1>
                    <p>Die maximal genutze Schlüssellänge beträgt 7.</p>
                </div>
                <form id="decipher-form" action="/freeplay/vigenerecipher/tryKey" method="post">
                <div class="key-container">
                    <input type="text" maxlength="5" id="newKey" name="newKey" class="key-input" placeholder="" required></input>
                    <button type="submit" class="try-button">Try out your key</button>  
                </div>
                </form>
                <div class="feedback-messages">
                    <div class="alert alert-danger" th:if="${errorMessage}" th:text="${errorMessage}"></div>
                </div>
            </div>
            <div class="text-container">
                <div class="text-headline">
                    <h1>Verschlüsselter Text:</h1>
                </div>
                <div class="question-container">
                    <p th:text="${cipher.cipheredText}"></p>
                </div>
                <div class="text-headline2">
                    <h1>Entschlüsselter Text:</h1>
                </div>
                <div class="answer-container">
                    <p th:text="${tryoutText}"></p>
                </div>
                <div class="text-buttons-container">
                <form action="/freeplay/vigenerecipher/revealOriginal" method="post">
                    <div class="task-buttons">
                        <button class="reveal-button">Reveal the original Text</button>
                    </div>
                    </form>
                    <form action="/freeplay/vigenerecipher/tryNew" method="post">
                    <div class="task-buttons">
                        <button class="reveal-button">Tryout a new cipher</button>
                    </div>
                    </form>
                </div>
                <div class="feedback-messages">
                    <div class="alert alert-success" th:if="${successMessage}" th:text="${successMessage}"></div>
                </div>
            </div>
        </div>
    </main>
    

    <footer>
        <div class="feedback-messages">
            <div class="alert" id="feedback-alert"></div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="/scripts/vigenerecipher.js"></script>
</body>
</html>
