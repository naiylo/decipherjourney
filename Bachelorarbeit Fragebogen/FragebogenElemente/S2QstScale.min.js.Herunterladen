!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.S2QstScale=t():e.S2QstScale=t()}(self,(function(){return function(){"use strict";var e={};function t(e,t,n,o){var i=this;SoSciTools.QuestionWithItems.call(this,e,"scale");var r=[],s=[];function u(e,t){var n=a(t),o=c(t),i=[];for(var r in o){var s=document.getElementById(r);s&&i.push(s)}var u=document.getElementById(n+"_item");SoSciTools.QuestionItem.call(this,t,i,u),function(){for(var e in o){var n=document.getElementById(e);n&&SoSciTools.attachEvent(n,["click","change"],function(e,t,n){return function(t){d(t,e,0,n)}}(t,0,o[e]))}}()}function a(t){var n=String(t);return n.length<2&&(n="0"+n),e+"_"+n}function c(e){for(var t=a(e),i={},r=1;r<=o;r++)i[t+r]=r;for(var s=0;s<n.length;s++){var u=n[s];i[t+"DK"+(0===u?"":u+1)]=-1-u}return i}function l(){for(var e=0;e<t.length;e++)if(-9===i.getValue(t[e]))return!1;return!0}this.getValue=function(e){var t=c(e);for(var n in t){var o=document.getElementById(n);if(o.checked)return parseInt(o.value)}return-9},this.responseComplete=function(){return l()};var f=!1;function d(e,t,n,o){f||(f=!0,window.setTimeout((function(){f=!1}),20),window.setTimeout((function(){!function(e,t,n){(function(e,t,n){if(0!==r.length)for(var o=new CustomEvent("click",{detail:{target:e.target,itemID:t,value:n}}),s=0;s<r.length;s++)r[s].call(i,o)})(e,t,n),null!==h&&h.check()}(e,t,o)}),30))}this.addItems=function(n){for(var o=0;o<n.length;o++){for(var r=0;r<t.length;r++)t[r]!==n[o]||console.warn("Warning: Double-registered item "+n[o]+" for scale "+e);t.push(n[o]);var a=new u(i,n[o]);s.push(a),this.registerItem(a)}};var h=null;function v(){for(var e=i.node.querySelectorAll("div.s2options div.s2value"),t=0,n=0;n<e.length;n++)e[n].offsetWidth>t&&(t=e[n].offsetWidth);var o=i.node.querySelectorAll("div.s2dk div.s2value"),r=0;for(n=0;n<o.length;n++)o[n].offsetWidth>r&&(r=o[n].offsetWidth);var s={s2messageID:"scale.sizing",maxWidth:t,dkWidth:r};window.top.postMessage(s,"*")}this.enableAutosubmit=function(t){if(null!==h)throw"Already registered autosubmit ("+h+") for scale "+e;h=new SoSciTools.AutoSubmitter(t,l)},this.addEventListener=function(e,t){if("click"!==e&&"change"!==e)throw"Can only register listeners for click and change in Scale, no ["+e+"]"},this.addEventListener=function(e,t){if("click"!==e)throw"Invalid event ["+e+"]. S2QstScale only throw the event click";r.push(t)},this.reportSizing=function(){"complete"===document.readyState?v():window.addEventListener("load",v)};for(var g=0;g<t.length;g++){var m=new u(this,t[g]);s[g]=m,this.registerItem(m)}}return t.questions={},t.register=function(e,n,o,i){return e in t.questions?t.questions[e].addItems(n):t.questions[e]=new t(e,n,o,i),t.questions[e]},e.default=t,e.default}()}));