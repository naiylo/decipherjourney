/*! For license information please see SoSciTools.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SoSciTools=t():e.SoSciTools=t()}(self,(function(){return function(){var e={223:function(){!function(e,t,n){var o=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},r=function(){};r.prototype=i,r=new r;var s=[],a=i._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];i._domPrefixes=a;var l="svg"===t.documentElement.nodeName.toLowerCase();function c(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):l?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}var u,d=(u=!("onblur"in t.documentElement),function(e,t){var o;return!!e&&(t&&"string"!=typeof t||(t=c(t||"div")),!(o=(e="on"+e)in t)&&u&&(t.setAttribute||(t=c("div")),t.setAttribute(e,""),o="function"==typeof t[e],t[e]!==n&&(t[e]=n),t.removeAttribute(e)),o)});i.hasEvent=d,r.addTest("pointerevents",(function(){var e=!1,t=a.length;for(e=r.hasEvent("pointerdown");t--&&!e;)d(a[t]+"pointerdown")&&(e=!0);return e})),function(){var e,t,n,i,a,l;for(var c in o)if(o.hasOwnProperty(c)){if(e=[],(t=o[c]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i="function"==typeof t.fn?t.fn():t.fn,a=0;a<e.length;a++)1===(l=e[a].split(".")).length?r[l[0]]=i:(!r[l[0]]||r[l[0]]instanceof Boolean||(r[l[0]]=new Boolean(r[l[0]])),r[l[0]][l[1]]=i),s.push((i?"":"no-")+l.join("-"))}}(),delete i.addTest,delete i.addAsyncTest;for(var f=0;f<r._q.length;f++)r._q[f]();e.Modernizr=r}(window,document)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var o={};return function(){"use strict";function e(e,t){if("hide"!==t&&"disable"!==t&&"simple"!==t&&"submit"!==t&&"no"!==t)throw"S2AutoSubmit does not know the mode ["+t+"].";if(!e.responseComplete)throw"S2AutoSubmit requires a responseComplete() method in the question.";function n(){"hide"===t&&SoSciTools.submitButtonsHide(),"disable"===t&&SoSciTools.submitButtonEnable(!1)}function o(){"hide"===t&&SoSciTools.submitButtonsDisplay(),"disable"===t&&SoSciTools.submitButtonEnable(!0)}e.complete||n(),e.addEventListener("response",(function(e){e.detail.complete?(window.setTimeout(o,200),e.detail.optional||"no"===t||window.setTimeout(SoSciTools.submitPage,50)):n()}))}function t(e,t,n){if(!n){var o=document.getElementById(e+"_qst");o&&(n=o)}Object.defineProperty(this,"type",{get:function(){return t},configurable:!0}),Object.defineProperty(this,"label",{get:function(){return e},configurable:!0}),Object.defineProperty(this,"node",{get:function(){return n},configurable:!0}),SoSciTools.registerQuestion&&SoSciTools.registerQuestion(e,this)}n.d(o,{default:function(){return r}}),n(223);var i={inputsDisabled:!1,focusRegister:null,characterCheck:null,patternEmail:/^([A-Z0-9\.!#$%&'\*\+\-\/=\?^_`{|}~]+)@([^\s\x00-\x2A\x3A-\x40,\/]+\.[^\s\x00-\x2A\x3A-\x40,\/]{2,24})$/i,patternPhone:/^[+0(][+0-9()\/,. ]+$/};"defineProperty"in Object||(Object.defineProperty=function(e,t,n){if(!e.__defineGetter__)throw"Cannot use setters/getters in this browser";"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set)}),i.attachEvent=function(e,t,n){if(!e)throw new Error("No element specified for SoSciTools.attachEvent()");if(e instanceof Array||"undefined"!=typeof NodeList&&e instanceof NodeList||"undefined"!=typeof HTMLCollection&&e instanceof HTMLCollection)for(var o=0;o<e.length;o++)i.attachEvent(e[o],t,n);else if(t instanceof Array)for(o=0;o<t.length;o++)e.addEventListener?e.addEventListener(t[o],n,!1):e.attachEvent?e.attachEvent("on"+t[o],n):e["on"+t[o]]=n;else if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){var r="on"+t;e.attachEvent(r,n)}else e["on"+t]=n},i.attachEventToForm=function(e,t){e&&e.elements&&i.attachEvent(e.elements,["change","keyup"],t)},i.addPointerListeners=function(e,t){e?new function(e,t){var n,o,r=-1,s=0;function a(e,n){return r<0&&(r=n),o&&"dblclick"in t&&r===n?(u(e,n),void t.dblclick(e)):(r===n&&1!==s&&(s=1,"down"in t&&t.down(e)),"prevent"in t&&t.prevent(e)?(e.preventDefault(),!1):void("dblclick"in t&&(o=window.setTimeout((function(){o=null}),500))))}function l(e,o){if(r<0&&(r=o),n&&window.clearTimeout(n),r===o&&("move"in t&&t.move(e),0===s&&"moveUp"in t&&t.moveDown(e),1===s&&"moveDown"in t&&t.moveDown(e)),"prevent"in t&&t.prevent(e))return e.preventDefault(),!1}function c(e,n){if(r===n&&1===s&&(s=0,"up"in t&&t.up(e)),"prevent"in t&&t.prevent(e))return e.preventDefault(),!1}function u(e,n){if(r===n&&1===s&&(s=0,"cancel"in t&&t.cancel(e)),"prevent"in t&&t.prevent(e))return e.preventDefault(),!1}function d(t,o){var a,l;o===r&&(a=i.getMousePos(void 0),l=i.getNodePos(e),!a||!(a.x>=l.x&&a.y>=l.y&&a.x<l.x+l.w&&a.y<l.y+l.h))&&1===s&&(n=window.setTimeout((function(){u(t,o)}),1200))}e.addEventListener("pointerdown",(function(e){return a(e,1)})),e.addEventListener("pointermove",(function(e){return l(e,1)})),e.addEventListener("pointerup",(function(e){return c(e,1)})),e.addEventListener("pointercancel",(function(e){return u(e,1)})),e.addEventListener("pointerout",(function(e){return d(e,1)})),e.addEventListener("mousedown",(function(e){return a(e,2)})),e.addEventListener("mousemove",(function(e){return l(e,2)})),e.addEventListener("mouseout",(function(e){return d(e,2)})),e.addEventListener("mouseup",(function(e){return c(e,2)})),document.addEventListener("mouseup",(function(e){return c(e,2)})),e.addEventListener("touchstart",(function(e){return a(e,3)})),e.addEventListener("touchmove",(function(e){return l(e,3)})),e.addEventListener("touchend",(function(e){return c(e,3)})),e.addEventListener("touchcancel",(function(e){return u(e,3)}))}(e,t):console.warn("SoSciTools.addPointerListeners expects a node")},i.buttonCopyElement=function(e){e&&new function(e){if(e&&navigator.clipboard){var t=e.outerHTML,n=document.createElement("img");n.src="layout/button.copy.0.svg",n.setAttribute("alt","⎘"),n.style.width="30px",n.style.display="block";var o=document.createElement("a");o.setAttribute("href","#"),o.style.position="absolute",o.style.display="block",o.style.border="1px solid #CCCCCC",o.style.borderRadius="5px",o.style.background="#EEEEEE",o.style.padding="3px",o.style.opacity=0,o.append(n),e.offsetParent.append(o),e.addEventListener("mouseover",(function(){var t=(e.offsetHeight-28)/2;t>14&&(t=14),o.style.left=e.offsetLeft+e.offsetWidth-32-t+"px",o.style.top=e.offsetTop+1+t+"px","Velocity"in window?(Velocity(o,"stop"),Velocity(o,{opacity:1},{duration:150})):o.style.opacity=1})),e.addEventListener("mouseout",r),o.addEventListener("mouseover",(function(){n.src="layout/button.copy.1.svg"})),o.addEventListener("mouseout",(function(e){n.src="layout/button.copy.0.svg",r(e)})),o.addEventListener("click",(function(e){navigator.clipboard.writeText(t).catch((function(){})),"Velocity"in window?(Velocity(o,"stop"),Velocity(o,{opacity:0},{duration:150,delay:20})):o.style.opacity=0}))}function r(t){window.setTimeout((function(){var n=i.getMousePos(t),r=i.getNodePos(e);(n.x<r.x||n.x>r.x+r.w||n.y<r.y||n.y>r.y+r.h)&&("Velocity"in window?(Velocity(o,"stop"),Velocity(o,{opacity:0},{duration:250,delay:100})):o.style.opacity=0)}),50)}}(e)},i.cookieGet=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},i.cookieSet=function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";samesite=strict;path=."},i.classAround=function(e,t){for(var n=e;n&&9!==n.nodeType;){if(i.ensureClassList(n),n.classList.contains(t))return!0;n=n.parentNode}return!1},i.createOperationsButton=function(e){var t={contentTitle:"100",contentImage:"101",contentHover:"105"},n=document.createElement("div");n.className="op",n.setAttribute("title",e[t.contentTitle]);var o=document.createElement("img");o.className="link",o.setAttribute("src",e[t.contentImage]),o.setAttribute("alt",e[t.contentAlt]);var i=document.createElement("img");return i.className="hover",i.setAttribute("src",e[t.contentHover]),i.setAttribute("alt",e[t.contentAlt]),n.appendChild(o),n.appendChild(i),n},i.detachEvent=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent){var o="on"+t;e.detachEvent(o,n)}else e["on"+t]=null},i.disableInputs=function(){var e;i.inputsDisabled=!0,e=document.getElementsByTagName("input");for(var t=0;t<e.length;t++)if(e[t].getAttribute){var n=e[t].getAttribute("type");if("radio"===n)e[t].checked||(e[t].disabled=!0);else if("checkbox"===n){if(!e[t].parentNode)continue;e[t].disabled=!0,(o=document.createElement("input")).type="hidden",o.id=e[t].id,o.name=e[t].name,o.value=e[t].value,e[t].parentNode.appendChild(o)}else if("text"===n){if(!e[t].parentNode)continue;e[t].readOnly=!0,e[t].disabled=!0,(o=document.createElement("input")).type="hidden",o.id=e[t].id,o.name=e[t].name,o.value=e[t].value,e[t].parentNode.appendChild(o)}}for(e=document.getElementsByTagName("select"),t=0;t<e.length;t++){var o;e[t].parentNode&&(e[t].disabled=!0,(o=document.createElement("input")).type="hidden",o.id=e[t].id,o.name=e[t].name,o.value=e[t].value,e[t].parentNode.appendChild(o))}for(e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++)e[t].readOnly=!0;if(i.questionnaire)for(var r in i.questionnaire.elements)"function"==typeof i.questionnaire.elements[r].disable&&i.questionnaire.elements[r].disable()},i.disableInputs2=function(){var e;function t(e,t){e.style.display&&!t.style.display?t.style.display=e.style.display:t.style.display="inline-block",(e.style.position||e.style.top)&&(t.style.position=e.style.position,t.style.top=e.style.top),t.style.left=e.style.left,e.style.verticalAlign||(t.style.verticalAlign=e.style.verticalAlign),t.title=o.title}i.inputsDisabled=!0,e=document.getElementsByTagName("input");for(var n=0;n<e.length;n++){var o=e[n],r=o.getAttribute("type"),s=null;if("radio"===r||"checkbox"===r)(s=document.createElement("div")).className="inputCST",s.style.width="17px",s.style.height="17px",s.style.border="0 none",s.style.padding="0",s.style.margin="0",s.style.backgroundColor="transparent",s.style.backgroundImage="url(../images/inputs.circles.png)",o.checked?s.style.backgroundPosition="0px -32px":s.style.backgroundPosition="0px 0px";else if("text"===r){(s=document.createElement("div")).style.width=o.offsetWidth-8+"px",s.style.height=o.offsetHeight-8+"px",s.style.padding="3px",s.style.display="inline-block",s.style.border="1px solid black",s.style.backgroundColor="white",s.style.verticalAlign="middle";var a=document.createTextNode(o.value);s.appendChild(a)}null!==s&&(t(o,s),o.parentNode.insertBefore(s,o),o.style.display="none")}for(e=document.getElementsByTagName("textarea"),n=0;n<e.length;n++){a=e[n],(s=document.createElement("div")).style.width=a.offsetWidth-8+"px",s.style.height=a.offsetHeight-8+"px",s.style.padding="3px",s.style.display="inline-block",s.style.border="1px solid black",s.style.backgroundColor="white",s.style.verticalAlign="middle";var l=document.createTextNode(a.value);s.appendChild(l),t(a,s),a.parentNode.insertBefore(s,a),a.style.display="none"}for(e=document.getElementsByTagName("select"),n=0;n<e.length;n++){var c=e[n];(s=document.createElement("div")).style.width=c.offsetWidth-8+"px",s.style.height=c.offsetHeight-8+"px",s.style.padding="3px",s.style.display="inline-block",s.style.border="1px solid black",s.style.backgroundColor="white",s.style.verticalAlign="middle",l=-1===c.selectedIndex?"":c.options[c.selectedIndex].text,a=document.createTextNode(l),s.appendChild(a),t(c,s),c.parentNode.insertBefore(s,c),c.style.display="none"}if(i.questionnaire)for(var u in i.questionnaire.elements)"function"==typeof i.questionnaire.elements[u].disable&&i.questionnaire.elements[u].disable()},i.dispatchEvent=function(e,t,n){if("undefined"!=typeof CustomEvent){var o;if(n)o=new CustomEvent(t,{detail:n});else if("click"===t)try{o=new MouseEvent(t)}catch(e){(o=document.createEvent("MouseEvent")).initMouseEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}else o=new CustomEvent(t);e.dispatchEvent(o)}else if(document.createEvent)(i="click"===t?document.createEvent("MouseEvents"):document.createEvent("UIEvents")).initEvent(t,!0,!1),e.dispatchEvent(i);else if(document.createEventObject){var i=document.createEventObject();e.fireEvent("on"+t,i)}},i.submitButtonsDisplay=function(){i.showButtons(!0,null)},i.submitButtonsHide=function(){i.showButtons(!1,null)},i.submitButtonEnable=function(e){"complete"!==document.readyState&&i.attachEvent(window,"load",(function(t){i.submitButtonEnable(e)}));for(var t=document.getElementsByName("submitNext"),n=0;n<t.length;n++)t[n].disabled=!e},i.runWhenLoaded=function(e){"complete"===document.readyState?e():window.addEventListener("load",e)},i.catchEnter=function(){var e=!0,t=null;function n(e){for(var n=document.getElementById("questionnaireForm"),o=n.elements,i=o.length,r=-1,s=0;s<i;s++)if(n.elements[s]===t){r=s;break}var a=e.name;do{r++}while(r<o.length&&"radio"===o[r].type&&o[r].name===a);if(!(r>=o.length))return o[r]}var o=i.questionnaire.getForm();o&&(i.attachEvent(o,"keydown",(function(o){if(13===(o.which?o.which:o.keyCode)){var r=i.getSender(o);if(!r||"TEXTAREA"!==r.nodeName)if((t=i.focusRegister.getElement())&&"submit"===t.type)e=!0;else if(t&&"TEXTAREA"===t.nodeName.toUpperCase())e=!0;else{var s=n(t);if(s&&"submit"===s.type){if(i.ensureClassList(s),s.classList.contains("s2buttonBack")){var a=document.querySelector(".s2buttonNext");a&&(s=a)}return s.focus(),void(e=!0)}o||(o=window.event),e=!1}}})),i.attachEvent(o,"keyup",(function(o){if(!e&&(e=!0,null!==t)){var i=n(t);i?i.focus():t.focus()}}))),i.getPage().attachCheck((function(t){return e}),!0)},i.checkBrowser=function(e){return navigator.userAgent.toLowerCase().indexOf(e.toLowerCase())>-1},i.classList=function(e){return new function(e){if(!e||!("className"in e))throw console.log(e),"Element not applicable for SoSciTools.classList().";this.add=function(t){for(var n=e.className.split(/\s+/),o=0;o<n.length;o++)if(n[o]===t)return;n.push(t),e.className=n.join(" ")},this.contains=function(t){for(var n=e.className.split(/\s+/),o=0;o<n.length;o++)if(n[o]===t)return!0;return!1},this.remove=function(t){for(var n=e.className.split(/\s+/),o=[],i=0;i<n.length;i++)n[i]!==t&&o.push(n[i]);e.className=o.join(" ")}}(e)},i.showButtons=function(e,t){var n,o;if("complete"!==document.readyState&&"interactive"!==document.readyState&&("loading"===document.readyState||"loaded"===document.readyState?i.attachEvent(document,"DOMContentLoaded",(function(){i.showButtons(e,t)})):i.attachEvent(window,"load",(function(){i.showButtons(e,t)}))),null!==(o=!0===e?"":!1===e?"none":null)){(n=document.getElementById("buttonsAuto"))&&(n.style.display=o),(n=document.getElementById("buttonNext"))&&(n.style.display=o),(n=document.getElementById("buttonBack"))&&(n.style.display=o),n=document.getElementsByName("submitNext");for(var r=0;r<n.length;r++)n[r].style.display=o;for(n=document.getElementsByName("submitBack"),r=0;r<n.length;r++)n[r].style.display=o}if(null!==(o=!0===t?"":!1===t?"none":null)){for((n=document.getElementById("buttonsControl"))&&(n.style.display=o),(n=document.getElementById("buttonBreak"))&&(n.style.display=o),(n=document.getElementById("buttonLeave"))&&(n.style.display=o),n=document.getElementsByName("submitBreak"),r=0;r<n.length;r++)n[r].style.display=o;for(n=document.getElementsByName("submitLeave"),r=0;r<n.length;r++)n[r].style.display=o}},i.stopEvent=function(e){if(e)return e.preventDefault?(e.preventDefault(),void e.stopPropagation()):(e||(e=window.event),e.ReturnValue=!1,!1)},i.getNodeOffset=function(e){return e.offsetParent&&e.offsetParent!==document.getElementsByTagName("body")[0]?i.getNodePos(e.offsetParent):{x:0,y:0}},i.getNodePosition=function(e){if(null==e)throw new Error("No HTML node specified for SoSciTools.getNodePosition");for(var t=e.offsetLeft,n=e.offsetTop;e.offsetParent;)t+=(e=e.offsetParent).offsetLeft,n+=e.offsetTop;return[t,n]},i.getNodePos=function(e){if(null==e)throw new Error("No HTML node specified for SoSciTools.getNodePosition");if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=-(window.scrollX?window.scrollX:window.pageXOffset),o=-(window.scrollY?window.scrollY:window.pageYOffset);return{x:t.left-n,y:t.top-o,w:t.right-t.left,h:t.bottom-t.top}}for(var i=e.offsetLeft,r=e.offsetTop;e.offsetParent;)i+=(e=e.offsetParent).offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop;return{x:i,y:r,w:e.offsetWidth,h:e.offsetHeight}},i.getNodeMetrics=function(e){var t=i.getNodePosition(e),n=e.offsetWidth,o=e.offsetHeight;return new Array(t[1],t[0]+n,t[1]+o,t[0])},i.getNumericCursorPosition=function(e,t,n){for(var o,i="0123456789",r=0,s=e;s<t.length;s++)-1!==i.indexOf(t.charAt(s))&&r++;if(0===r)o=n.length;else{var a=0;for(s=n.length;s>0;s--)-1!==i.indexOf(n.charAt(s-1))&&a++,a===r&&(o=s-1)}return o},i.getPosition=function(e,t){var n,o,r,s;if(e||(e=window.event),null==t)n=0,o=0;else{var a=i.getNodePosition(t);n=a[0],o=a[1]}if(e.touches&&e.touches[0])r=e.touches[0].pageX,s=e.touches[0].pageY;else if(e.changedTouches&&e.changedTouches[0])r=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY;else if(e.pageX)r=e.pageX,s=e.pageY;else{if(!e.clientX)return new Array(0,0);r=e.clientX+document.body.scrollLeft,s=e.clientY+document.body.scrollTop}return[r-n,s-o]},i.getSender=function(e){return e||(e=window.event),e.target?e.target:e.srcElement?e.srcElement:null},i.autoHeight=function(e,t,n,o,r){function s(){var i=e.scrollTop,s=e.style.height;e.style.height="auto";var a=e.scrollHeight;0===e.value.length&&(a=0),a>t+10&&("number"==typeof o?a+=o:o&&(a+=16)),a+=e.offsetHeight-e.clientHeight,n>0&&a>n&&(a=n),t>0&&a<t&&(a=t),r?(r.style.height=a+"px",e.style.height=s):e.style.height=a+"px",e.scrollTop=i}"string"==typeof e&&(e=document.getElementById(e)),e&&(i.attachEvent(e,["keydown","keyup","cut","paste","drop"],(function(){window.setTimeout(s,1)})),i.attachEvent(e,["change","focus","s2change"],s),s())},i.focusHeight=function(e,t,n){var o=document.getElementById(e);if(o){var r,s=!0,a="function"==typeof SoSciAnimator;o.offsetHeight&&(r=o.offsetHeight),void 0===n&&(n=t);var l=function(){""===o.value?a&&!s?SoSciAnimator.animate(o,"height",null,n,"px",250):o.style.height=n+"px":a&&!s?SoSciAnimator.animate(o,"height",null,t,"px",250):o.style.height=t+"px"},c=function(){r||(r=t),a?SoSciAnimator.animate(o,"height",null,r,"px",250):o.style.height=""};l(),s=!1,i.attachEvent(o,"focus",(function(){window.setTimeout(c,250)})),i.attachEvent(o,["blur","keypressed"],(function(){window.setTimeout(l,250)}))}else alert("Textarea "+e+" not found")},i.Question=function(n,o,r){var s;if("string"==typeof n||n instanceof String){if(4!==n.length)throw"Expecting the label to have 4 characters for SoSciTools.Question()";if(!r){var a=document.getElementById(n+"_qst");a&&(r=a)}t.call(this,n,o,r),this.addEventListener=function(e,t,n){r.addEventListener(e,t,n)},this.dispatchEvent=function(e,t){i.dispatchEvent(r,e,t)},this.responseAutosubmit=function(t){s||(s=new e(this,t))},this.responseCSS=function(e){if(!this.responseComplete)throw"responseCSS() requires a responseComplete() method in the question.";function t(t){t?e.classList.add("s2complete"):e.classList.remove("s2complete")}e?(i.ensureClassList(e),e.addEventListener("response",(function(e){t(e.detail.complete)})),t(this.responseComplete())):console.warn("responseCSS() requires a node that responds.")},this.responseEvent=function(e,t,o){if(!r)return!1;var i=new CustomEvent("response",{detail:{question:n,element:o,complete:e,optional:t},cancelable:!0});return r.dispatchEvent(i),i.defaultPrevented},Object.defineProperty(this,"complete",{get:function(){return!!this.responseComplete&&this.responseComplete()},configurable:!0}),Object.defineProperty(this,"node",{get:function(){return r}}),this.item=function(){throw"The question "+n+" does not support items"}}else console.error("Expecting a string as label parameter for SoSciTools.Question()",n)},i.QuestionItem=function(e,t,n){var o;t?t.constructor!==Array&&(t=[t]):t=null,n||(n=null),Object.defineProperty(this,"id",{get:function(){return e},configurable:!0}),Object.defineProperty(this,"question",{get:function(){return o}}),Object.defineProperty(this,"input",{get:function(){return 1===t.length?t[0]:null},configurable:!0}),Object.defineProperty(this,"inputs",{get:function(){return t}}),Object.defineProperty(this,"node",{get:function(){return n},configurable:!0}),this.registerQuestion=function(e){o=e},this.addEventListener=function(e,n,o){if(!t)throw"Cannot add events to item without inputs";t[0].addEventListener(e,n,o)},this.dispatchEvent=function(e,n){if(!t)throw"Cannot dispatch events from an item without inputs";i.dispatchEvent(t[0],e,n)}},i.QuestionWithItems=function(e,t,n){i.Question.call(this,e,t,n);var o={},r=[];Object.defineProperty(this,"items",{get:function(){return o}}),Object.defineProperty(this,"keys",{get:function(){return r}}),Object.defineProperty(this,"length",{get:function(){return Object.keys(o).length}}),Object.defineProperty(this,"type",{get:function(){return t}}),this.item=function(t){if(!Number.isInteger(t))throw"The method "+e+".item() expects a number";if(t>Object.keys(o).length)throw"There are only "+Object.keys(o).length+" items in question "+e;if(t<1)throw"Items always have a positive number in question "+e;var n=t-1;return o[Object.keys(o)[n]]},Object.defineProperty(this,"inputs",{get:function(){var e=[];for(var t in o)e=e.concat(o[t].inputs);return e}}),this.registerItem=i.QuestionWithItems.prototype.registerItem},i.QuestionWithItems.prototype.registerItem=function(e){var t=e.id,n=this.items,o=this.keys;n[t]?console&&console.warn&&console.warn("Item ["+t+"] was already registered"):(e.registerQuestion&&e.registerQuestion(this),n[t]=e,o.push(t))},i.ElementSet=function(e){this.show=function(){for(var t=0;t<e.length;t++)e[t].style.display=""},this.hide=function(){for(var t=0;t<e.length;t++)e[t].style.display="none"}},i.Questionnaire=function(){var e,t,n=[],o=[],r="none",s={};this.getForm=function(){return e},this.init=function(n){if(!(e=document.getElementById(n)))throw"Questionnaire form "+n+" was not found by SoSciTools.Questionnaire()";t=e.getAttribute("action");for(var o=0;o<e.elements.length;o++)if("submit"===e.elements[o].type){var r=e.elements[o];"submitNext"===r.name?i.attachEvent(r,"click",l):"submitBack"===r.name?i.attachEvent(r,"click",c):i.attachEvent(r,"click",u)}i.attachEvent(e,"submit",a)},this.isRightToLeft=function(){var e=document.getElementsByTagName("body")[0];if(!e)return!1;if(!e.className)return!1;var t=e.className.match(/\bD_rtl\b/);return null!==t&&t.length>0};var a=function(i){i||null===i||(i=window.event);for(var s=!0,a=0;a<n.length;a++)if(!(0,n[a])(i)){s=!1;break}if(s&&"back"!==r)for(a=0;a<o.length;a++)if(!(0,o[a])(i)){s=!1;break}if("S2TextToSpeech"in window&&S2TextToSpeech.cancel&&S2TextToSpeech.cancel(),s){if(!e)throw"No questionnaire form to submit";return e.setAttribute("action",t),!0}return i&&(i.preventDefault?(i.preventDefault(),i.stopPropagation()):i.returnValue=!1),e.setAttribute("action","javascript:void(0)"),!1};this.registerQuestion=function(e){var t=e.label;if(!t)throw"The question to register is missing her label";t in s||(s[t]=e),t in this||Object.defineProperty(this,t,{get:function(){return e}})},this.attachCheck=function(e,t){t?n.push(e):o.push(e)},this.submit=function(t){if(a(null)){var n=document.createElement("div"),o=document.createElement("input");o.type="hidden",o.name="back"===t?"submitBack":"repeat"===t?"submitRepeat":"submitNext",o.value="script",n.appendChild(o),e.appendChild(n),e.submit(),window.setTimeout((function(){e.removeChild(n)}),500)}};var l=function(e){r="next"},c=function(e){r="back"},u=function(e){r=""};Object.defineProperty(this,"elements",{get:function(){return s}}),Object.defineProperty(this,"nextbutton",{get:function(){var t=e;return t||(t=document),new i.ElementSet(t.querySelectorAll(".s2buttonNext"))}}),Object.defineProperty(this,"backbutton",{get:function(){var t=e;return t||(t=document),new i.ElementSet(t.querySelectorAll(".s2buttonBack"))}})},i.hoverImage=function(e,t,n,o){var i=document.createElement("img"),r=document.createElement("img");return i.src=e,r.src=t,i.style.height=o||"1.5em",i.style.verticalAlign="middle",i.style.marginBottom="0.1em",n||(n=i),n.addEventListener("mouseover",(function(){n.getAttribute("disabled")||(i.src=t)})),n.addEventListener("mouseout",(function(){i.src=e})),i},i.inArray=function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},i.loadScript=function(e,t){var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=e,o.onreadystatechange=t,o.onload=t,n.appendChild(o)},i.listenToChange=function(e,t){function n(e){t()}function o(e){this.node=e;var t=e.checked;function o(){e.checked!==t&&n()}e.addEventListener("click",o),e.addEventListener("change",o)}function i(e){this.node=e;var t=e.value;function o(){e.value!==t&&n()}e.addEventListener("keyup",o),e.addEventListener("change",o)}var r,s,a=[],l=e.getElementsByTagName("input"),c=e.getElementsByTagName("textarea");for(r=0;r<l.length;r++){var u=(s=l[r]).getAttribute("type");"radio"===u||"checkbox"===u?a.push(new o(s)):a.push(new i(s))}for(r=0;r<c.length;r++)a.push(new i(s))},i.onDatePickerSelect=function(e,t){for(var n in t.input){var o=new Event("keyup");t.input[n].nodeName&&"INPUT"===t.input[n].nodeName&&t.input[n].dispatchEvent(o)}return!1},i.optimizeCanvas=function(){function e(e){var t=document.createElement("img");t.src="layout/button.download.0.svg",t.setAttribute("alt","⇓"),t.style.width="30px",t.style.display="block";var n=document.createElement("a");n.download="chart.png",n.style.position="absolute",n.style.display="block",n.style.border="1px solid #CCCCCC",n.style.borderRadius="5px",n.style.background="#EEEEEE",n.style.padding="3px",n.style.opacity=0,n.append(t),e.offsetParent.append(n);var o=e.offsetWidth,r=e.offsetHeight;function s(e,t,n){if(n>10||"object"!=typeof e)return e;for(var o in e)"font"===o&&"size"in e[o]?e.font.size=e.font.size*t:"gridLines"===o&&"tickMarkLength"in e[o]?e.gridLines.tickMarkLength=e.gridLines.tickMarkLength*t:"borderWidth"===o?e.borderWidth=e.borderWidth*t:e[o]=s(e[o],t,n+1);return e}var a=window["C"+e.getAttribute("id")],l=e;if(a){(l=document.createElement("canvas")).setAttribute("width",2048),l.setAttribute("height",Math.round(2048/o*r)),l.style.position="absolute",l.style.zIndex=-1,l.style.left=-o+"px",l.style.width=o+"px",l.style.height=r+"px",document.body.append(l);var c=s(a.config.options,2048/o,0),u=s(a.config.data,2048/o,0);c.responsive=!1,new Chart(l.getContext("2d"),{type:a.config.type,data:u,options:c})}function d(t){window.setTimeout((function(){var o=i.getMousePos(t),r=i.getNodePos(e);(o.x<r.x||o.x>r.x+r.w||o.y<r.y||o.y>r.y+r.h)&&("Velocity"in window?(Velocity(n,"stop"),Velocity(n,{opacity:0},{duration:250,delay:100})):n.style.opacity=0)}),50)}e.addEventListener("mouseover",(function(){n.href=l.toDataURL(),n.style.left=e.offsetLeft+e.offsetWidth-32+"px",n.style.top=e.offsetTop+1+"px","Velocity"in window?(Velocity(n,"stop"),Velocity(n,{opacity:1},{duration:150})):n.style.opacity=1})),e.addEventListener("mouseout",d),n.addEventListener("mouseover",(function(){t.src="layout/button.download.1.svg"})),n.addEventListener("mouseout",(function(e){t.src="layout/button.download.0.svg",d(e)}))}for(var t=document.querySelectorAll("canvas.s2jsDownload"),n=0;n<t.length;n++)new e(t[n])},i.optimizeColorPicker=function(){function e(e){var t=document.createElement("div");function n(){t.style.backgroundColor=function(e){if(!e)return"transparent";var t=e.length;return 3!==t&&6!==t||!e.match(/^[A-F0-9]+$/i)?e:"#"+e}(e.value)}var o=document.createElement("div"),r=document.createElement("div");o.style.display="inline-block",r.style.display="flex",r.style.alignItems="stretch",t.style.display="inline-block",t.style.border="1px solid #BBBBBB",t.style.borderLeft="0",t.style.margin="0",t.style.lineHeight="normal",t.style.width="12px",e.addEventListener("change",n),n(),e.parentNode.replaceChild(o,e),o.appendChild(r),r.appendChild(e),r.appendChild(t),i.redirectEvent("click",t,e)}function t(e){window.$&&$(e).colorpicker({close:function(){var t=new CustomEvent("change",{});e.dispatchEvent(t)}})}for(var n=document.getElementsByClassName("s2jsColorPicker"),o=0;o<n.length;o++)new t(n[o]),new e(n[o])},i.optimizeTextinputs=function(){for(var e=document.getElementsByClassName("s2jsAutoHeight"),t=0;t<e.length;t++){var n=e[t].offsetHeight;if(n<1&&window.getComputedStyle&&(n=parseInt(window.getComputedStyle(e[t]).height)),(isNaN(n)||n<1)&&(n=20),"INPUT"===e[t].tagName){var o=document.createElement("TEXTAREA"),r=document.createTextNode(e[t].value);o.appendChild(r);for(var s=0;s<e[t].attributes.length;s++){var a=e[t].attributes[s];"value"!==a.name&&o.setAttribute(a.name,a.value)}i.redirectEvent("change",o,e[t],!1),i.redirectEvent("keydown",o,e[t],!1),i.redirectEvent("keypressed",o,e[t],!1),i.redirectEvent("keyup",o,e[t],!1),i.dispatchEvent(e[t],"replace",{replacement:o}),e[t].parentNode.replaceChild(o,e[t])}i.autoHeight(e[t],n,0,!1)}},i.optimizeMoreBox=function(){for(var e=document.getElementsByClassName("s2jsMoreBox"),t=0;t<e.length;t++)new i.MoreBox(e[t])},i.optimizeAccordion=function(){for(var e=document.getElementsByClassName("s2jsAccordion"),t=0;t<e.length;t++)new i.Accordion(e[t])},i.optimizeSelectOnClick=function(){for(var e=document.getElementsByClassName("s2jsSelectOnClick"),t=0;t<e.length;t++)e[t].addEventListener("click",i.selectContents),e[t].addEventListener("blur",i.selectNothing)},i.optimizeTooltips=function(){function e(e,t){var n=t.querySelector("span.tiptext");if(n||(n=t.querySelector("div.tiptext")),!n)return null;var o=!1;i.ensureClassList(e);var r=document.querySelector("div#s2aBody");if(r||(r=document.querySelector("body")),!r)return null;var s=null;function a(){var e=i.getNodePos(n),t=i.getNodePos(r);if(e.w>t.w)n.style.left="0",n.style.width=t.w+"px";else if(e.x<t.x){var o=i.getNodePos(n.offsetParent);n.style.left=t.x-o.x+"px"}else e.x+e.w>t.x+t.w&&(o=i.getNodePos(n.offsetParent),n.style.left=t.x+t.w-o.x-e.w-2+"px")}i.attachEvent(e,"mouseover",(function(){window.setTimeout(a,20)})),i.attachEvent(e,"mouseout",(function(){s&&(window.clearTimeout(s),s=null),n.style.left=""})),i.attachEvent(e,"click",(function(){o?(e.classList.remove("active"),t.style.display="none",o=!1,window.setTimeout((function(){t.style.display=""}),1e3)):(e.classList.add("active"),window.setTimeout(a,20),o=!0)}))}for(var t=Array.from(document.getElementsByTagName("span")).concat(Array.from(document.getElementsByTagName("div"))),n=null,o=0;o<t.length;o++)i.ensureClassList(t[o]),t[o].classList.contains("S2Tooltip")&&t[o].classList.contains("anchor")&&(n=t[o]),t[o].classList.contains("S2Tooltip")&&t[o].classList.contains("container")&&new e(n,t[o]);var r=document.querySelectorAll("div.tooltip > div.tiptext");for(o=0;o<r.length;o++)new e(r[o].parentNode,r[o].parentNode)},i.preloadImages=function(e,t){var n={},o=!1;function i(){if(!o){for(var e in n)if(!1===n[e])return;o=!0,t&&t()}}function r(e){var t=e.src;n[t]=!1;var o=new Image;o.addEventListener("load",(function(){n[t]=!0,i()})),o.addEventListener("error",(function(){n[t]=!0,i()})),o.src=t}window.setTimeout((function(){o||t&&t()}),5e3);for(var s=0;s<e.length;s++)e[s].complete||new r(e[s]);i()},i.preventDrag=function(e,t){"classList"in e?e.classList.add("unselectable"):-1===e.className.search(/(^|\W)unselectable(\W|$)/)&&(e.className+=" unselectable"),e.addEventListener("dragstart",(function(e){return e.preventDefault&&e.preventDefault(),!t&&e.stopPropagation&&e.stopPropagation(),!1})),e.setAttribute("unselectable","on"),e.setAttribute("draggable","false");for(var n=e.getElementsByTagName("*"),o=0;o<n.length;o++)n[o].setAttribute("unselectable","on"),n[o].setAttribute("draggable","false")},i.runControllerFeatures=function(){if("undefined"!=typeof S2Controller){for(var e=new S2Controller,t=e.getElements("mirror.input"),n=0;n<t.length;n++)new i.MirrorInput(t[n].value,t[n].node);var o=e.getElements("s2jsToggle");for(n=0;n<o.length;n++){var r=o[n].value,s=e.getArray("s2jsToggle."+r+".options"),a=e.getArray("s2jsToggle."+r+".targets"),l=document.getElementById(r);l&&"SELECT"===l.nodeName?new i.ToggleDropdown(l,s,a):console.warn("Cannot Toggle on this element",r)}}},i.MoreBox=function(e,t){var n,o=!1;function i(){if(!o){var i=e.offsetHeight;i&&i<=t||(e.style.maxHeight=t+"px",e.appendChild(n),o=!0)}}function r(t){e.style.maxHeight="",n.parentNode.removeChild(n),o=!1,t.stopPropagation()}void 0===t&&(e.style.minHeight&&(t=parseInt(e.style.minHeight)),t||(t=160),t<24&&(t=24)),function(){(n=document.createElement("div")).style.position="absolute",n.style.left=0,n.style.right=0,n.style.bottom=0;var e=new URL(window.location.href),o="index.php?image=s2jsMoreBox.png";e.pathname.match(/\/admin($|\/)/)?o="./layout/s2jsMoreBox.png":e.pathname.match(/(\/.+){2,}/)&&(o="../images/s2jsMoreBox.png"),n.style.backgroundImage="url("+o+")",n.style.backgroundPosition="right bottom",t<64?(n.style.height=t+"px",n.style.backgroundSize="auto "+t+"px"):(n.style.height="64px",n.style.backgroundSize="auto"),n.addEventListener("click",r)}(),i(),e.style.position="relative",e.style.overflow="hidden",e.addEventListener("click",(function(){console.log("node",o),i()}))},i.accordionList=[],i.Accordion=function(e){var t,n,o,r,s=this;function a(e){t?s.hide():s.show(),e.stopPropagation(),e.preventDefault(),i.dispatchEvent(r,"click")}if(this.hide=function(){t=!1,!i.testIE()&&"Velocity"in window?Velocity(o,"slideUp"):o.style.display="none",n.classList.remove("selected"),i.dispatchEvent(r,"hide")},this.show=function(){t||(t=!0,i.Accordion.autoclose&&function(){for(var e=0;e<i.accordionList.length;e++)i.accordionList[e]!==s&&i.accordionList[e].hide()}(),o.style.display="",!i.testIE()&&"Velocity"in window&&Velocity(o,"slideDown"),n.classList.add("selected"),i.dispatchEvent(r,"show"),i.dispatchEvent(e,"show"))},"undefined"==typeof S2Controller||!(new S2Controller).getValue("printview")){var l=e.getElementsByClassName("title"),c=e.getElementsByClassName("content");l.length>0&&c.length>0&&(n=l[0],o=c[0],n.innerHTML='<a href="#">'+n.innerHTML+"</a>",n.getElementsByTagName("a")[0].addEventListener("click",a),n.addEventListener("click",a),i.ensureClassList(n),o.style.display="none",t=!1,i.accordionList.push(this),i.registerQuestion&&i.registerQuestion(e.getAttribute("id"),this),r=document.getElementById(e.getAttribute("id")+"_media"))}},i.Accordion.autoclose=!0,i.MirrorInput=function(e,t){var n=document.getElementById(e);if(!n)throw"There is no input with ID "+e;var o=n.cloneNode();function r(){o.value!==n.value&&(o.value=n.value)}o.removeAttribute("id"),o.removeAttribute("name"),t.parentNode.insertBefore(o,t),o.value=n.value,o.addEventListener("change",(function(){o.value!==n.value&&(n.value=o.value),i.dispatchEvent(n,"change")})),n.addEventListener("change",r),n.addEventListener("s2change",r),Object.defineProperty(this,"input",{get:function(){return o}})},i.Progress=function(){var e,t,n,o,i,r,s,a=this,l=[],c=[],u={},d=!1;this.addEventListener=function(e,t){if("present"===e)c.push(t),d&&t(u);else{if("change"!==e)throw"Progress does not know the event "+e;l.push(t)}},this.present=function(a,l,f){r=o=a,s=f,t=document.getElementById("s2progressIndicator"),n=document.getElementById("s2progressLabel"),e=t?t.parentNode:void 0,i=n?n.textContent:"",u={sender:t,indicator:t,label:n,progress:a,previous:l,next:f},d=!0,window.setTimeout((function(){for(var e=0;e<c.length;e++)c[e](u)}),10)},this.set=function(s){if(d)if("yes"===s)e.style.display="";else if("no"===s||!1===s)e.style.display="none";else{if((s=parseInt(s))<0||s>100)throw"Invalid value for Progress.set()";if(u.previous=o,u.progress=s,o=s,n){for(var c=i.replace(r,String(o));n.lastChild;)n.removeChild(n.lastChild);var f=document.createTextNode(c);n.appendChild(f)}t&&(t.style.width=String(o)+"%"),window.setTimeout((function(){for(var e=0;e<l.length;e++)l[e](u)}),10)}else this.addEventListener("present",function(e){return function(){a.set(e)}}(s))},this.setWithinPage=function(e){var t=e*(s-r)+r;this.set(t)},this.setPageMaximum=function(e){isNaN(e)||(s=e)}},i.progress=new i.Progress,i.readValue=function(e){if("checkbox"===e.getAttribute("type"))return e.checked;if("radio"===e.getAttribute("type")){var t=e.getAttribute("name");return i.formValueRadio(t)}return e.value},i.registerFocus=function(){i.focusRegister=new function(){for(var e=document.getElementById("questionnaireForm"),t=null,n=0;n<e.elements.length;n++){var o=e.elements[n];o.onfocus=function(){t=this},o.onblur=function(){t=this}}this.getElement=function(){return t}}},i.registerQuestion=function(e,t){i.questionnaire&&(t.label||(t.label=e),i.questionnaire.registerQuestion(t))},i.Resizable=function(e,t,n,o){var r="width_"+o;t||(t="both");var s=document.getElementById(e);s.style.overflow="auto",s.style.resize=t,s.style.border="1px solid #CCCCCC";var a,l,c,u=parseInt(i.cookieGet(r));u||(u=n),a=u,l=i.getNodePos(s),c=window.innerWidth-l.x,(c-=24)<600&&(c=600),u=c<a?c:a,s.style.width=u+"px";var d=s.offsetWidth;window.setInterval((function(){var e=s.offsetWidth;d!==e&&(i.cookieSet(r,Math.round(e),92),d=e)}),500)},i.Responsive=function(){var e={};function t(t){var n,o,i,r,s=(n=window,i=(o=document).documentElement,r=o.getElementsByTagName("body")[0],n.innerWidth||i.clientWidth||r.clientWidth);for(var a in e){var l=document.getElementById(a);if(l){var c=l.offsetWidth;c>s&&(c=s),c<e[a][0]+8?(l.classList.remove("auto"),l.classList.remove("matrix"),l.classList.remove("narrow"),l.classList.add("slim")):c<e[a][1]+8?(l.classList.remove("auto"),l.classList.remove("matrix"),l.classList.add("narrow"),l.classList.remove("slim")):(l.classList.remove("auto"),l.classList.add("matrix"),l.classList.remove("narrow"),l.classList.remove("slim"))}}}this.registerS2Items=function(n,o,i){o||(o=0),i||(i=0),e[n]=[i,o],t()},i.attachEvent(window,"resize",t)},i.ResponsiveInstance=null,i.ResponsiveS2Items=function(e,t,n){var o=document.getElementById(e);if(!o)throw"Element "+e+" not found to register for Responsive";i.ResponsiveInstance||(i.ResponsiveInstance=new i.Responsive),i.ensureClassList(o),i.ResponsiveInstance.registerS2Items(e,t,n)},i.ToggleDropdown=function(e,t,n){function o(){var o="none";i.inArray(e.value,t)&&(o="");for(var r=0;r<n.length;r++){var s=document.getElementById(n[r]);s&&(s.style.display=o)}}e.addEventListener("change",o),e.addEventListener("click",o),o()},i.checkChars=function(e,t,n,o){if(new i.CharacterChecker(e,t,n),o){var r=o[0];if("number.tsd"===r)new i.FormatterNumberTsd(e,0,o[1],o[2]);else{if("decimal2.tsd"!==r)throw"Unknown formatter: ".formatterID;new i.FormatterNumberTsd(e,2,o[1],o[2])}}},i.CharacterChecker=function(e,t,n){var o=document.getElementById(e),r=o.value;""===t&&n<1||("number"===o.type?i.attachEvent(o,"keyup",(function(e){var t=o.min;if(o.validity.valid)r=o.value;else if(8===e.keyCode||46===e.keyCode);else{if((""===t||parseInt(t)<0)&&"-"===e.key)return;o.value&&!isNaN(parseInt(o.value))||(o.value=r)}})):i.attachEvent(o,"keyup",(function(e){var i,r=o.value;i=o.selectionStart?o.selectionStart-1:r.length-1;var s="",a=0;if(t instanceof RegExp||"undefined"!=typeof XRegExp&&t instanceof XRegExp)for(var l=0;l<r.length;l++){var c=r.charAt(l);t.test(c)&&(s+=c)}else if(t.length>0){for(l=0;l<r.length;l++)if(c=r.charAt(l),-1!==t.indexOf(c))s+=c;else if(l===i){var u=e.keyCode,d={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9};d[u]&&-1!==t.indexOf(d[u])&&(s+=d[u],a=1)}}else s=r;if(n&&n>0&&r.length>n){var f="",m=0;for(l=0;l<s.length&&(r.charCodeAt(l)>=32&&m++,!(m>n));l++)f+=s.charAt(l);s=f}r!==s&&(o.value=s,o.selectionStart&&(o.selectionStart=i+a,o.selectionEnd=o.selectionStart))})),o.setAttribute("autocomplete","off"))},i.checkTextIdent=function(e){var t=document.getElementById(e);if(!t)throw"No input ID="+e;i.attachEvent(t,["keyup","change"],(function(e){for(var n="",o=0;o<t.value.length;o++){var i=t.value.charCodeAt(o);switch((i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||43===i||45===i||95===i)&&(n+=String.fromCharCode(i)),i){case 228:n+="ae";break;case 246:n+="oe";break;case 252:n+="ue";break;case 196:n+="Ae";break;case 214:n+="Oe";break;case 220:n+="Ue";break;case 223:n+="ss";break;case 32:n+="_"}}for(;n.indexOf("_-_")>0;)n=n.replace("_-_","__");for(;n.indexOf("__")>0;)n=n.replace("__","_");t.value!==n&&(t.value=n)}))},i.getMousePos=function(e){if(e||(e=window.event),e){var t,n;if(e.touches&&e.touches[0])t=e.touches[0].pageX,n=e.touches[0].pageY;else if(e.changedTouches&&e.changedTouches[0])t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else if(e.pageX)t=e.pageX,n=e.pageY;else{if(!e.clientX)return;t=e.clientX+document.body.scrollLeft,n=e.clientY+document.body.scrollTop}return{x:t,y:n}}},i.dynamicContent=function(e,t,n){"object"==typeof t&&"indexOf"in t||(t=[t]);var o=e;if("string"==typeof e&&(o=document.getElementById(e)),"object"==typeof o&&"value"in o){var i=n;"string"==typeof n&&(i=document.getElementById(n)),i?(o.addEventListener("change",r),o.addEventListener("click",r),r()):console.error("Cannot use as output for SoSciTools.dynamicContent()",n)}else console.error("Cannot use as input for SoSciTools.dynamicContent()",e);function r(){-1===t.indexOf(o.value)?i.style.display="none":i.style.display=""}},i.dynamicRows=function(e,t){if(!(e<1)){for(var n=[],o=[],r=0;r<t.length;r++){var s=document.getElementById(t[r]);if(s){var a=i.findContainer(s,"TR",null,"s2eRow");if(a){if(i.ensureClassList(a),a.classList.contains("s2eDynamic"))continue;a.classList.add("s2eDynamic"),n.push(s),o.push(a)}else console.warn("Not found a row (TR) for input "+t[r])}else console.warn("Not found input "+t[r])}l(),i.attachEvent(n,["keyup","change","blur"],l),i.attachEvent(n,["replace"],(function(e){if("replacement"in e.detail){var t=i.getSender(e),o=e.detail.replacement;i.attachEvent(o,["keyup","change","blur"],l);for(var r=0;r<n.length;r++)n[r]===t&&(n[r]=o)}}))}function l(){for(var t=function(){for(var t=-1,o=-1,i=0;i<n.length;i++)""!==(n[i].value.trim?n[i].value.trim():n[i].value.replace(/\s/g,""))&&(o=i),n[i]===document.activeElement&&(t=i);var r=o+e;return t+1>r&&(r=t+1),r}(),i=0;i<n.length;i++)o[i].style.display=i<=t?"":"none"}},i.ensureClassList=function(e){e&&("classList"in e||(e.classList=i.classList(e)))},i.findContainer=function(e,t,n,o){if(!e)throw"No valid HTML node specified as first parameter for SoSciTools.findContainer()";t&&(t=t.toUpperCase());for(var r=e.parentNode;r;){var s,a;if("className"in r?(i.ensureClassList(r),s=!n||r.classList.contains(n),a=void 0!==o&&o&&r.classList.contains(o)):(s=!n,a=!1),(!t||r.nodeName===t)&&s||a)return r;r=r.parentNode}return null},i.formValueRadio=function(e){for(var t=document.getElementsByName(e),n=0;n<t.length;n++)if(t[n].checked)return t[n].getAttribute("value");return null},i.getElementPos=function(e){for(var t=e.offsetLeft,n=e.offsetTop,o=e.offsetParent;o;)t+=o.offsetLeft,n+=o.offsetTop,o=o.offsetParent;return{x:t,y:n}},i.questionnaire=new i.Questionnaire,window.s2=i.questionnaire,i.getPage=function(){return i.questionnaire},i.getForm=function(){return document.getElementById("questionnaireForm")},i.submitPageSubmitted=!1,i.submitPage=function(e){var t=i.getPage();if("complete"===document.readyState){if(i.submitPageSubmitted)return;i.submitPageSubmitted=!0,window.setTimeout((function(){i.submitPageSubmitted=!1}),1e3),t.submit(e)}else i.attachEvent(window,"load",(function(){t.submit(e)}))},i.reloadPage=function(){window.onbeforeunload=null,location.reload()},i.selectContents=function(e){var t=i.getSender(e);if("INPUT"===t.nodeName)window.setTimeout((function(){t.select()}),50),t.select();else if(window.getSelection)(n=document.createRange()).selectNode(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(n);else if(document.selection){var n;(n=document.body.createTextRange()).moveToElementText(t),n.select()}},i.selectNothing=function(e){var t=i.getSender(e);window.setTimeout((function(){t.selectionStart=0,t.selectionEnd=t.selectionStart}),50)},i.sendPOST=function(e,t,n,o){var i="";for(var r in t)i>""&&(i+="&"),i+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]);var s=new XMLHttpRequest;n&&(s.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this,o)}),s.open("POST",e),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(i)},i.testIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0},i.tabs=function(e,t,n){var o=n,r=document.getElementById(e+"_active");function s(e){o=e,r&&(r.value=e),a()}function a(){-1===t.indexOf(o)&&(o=t[0]);for(var n=0;n<t.length;n++){var i=e+"_cnt_"+t[n],r=document.getElementById(i);r&&(t[n]===o?r.classList.remove("inactive"):r.classList.add("inactive"));var s=e+"_btn_"+t[n],a=document.getElementById(s);a&&(t[n]===o?a.classList.add("active"):a.classList.remove("active"))}}!function(){r&&(r.value=o);for(var n=0;n<t.length;n++){var a=e+"_title_"+t[n],l=document.getElementById(a);l&&(l.style.display="none")}for(n=0;n<t.length;n++){var c=e+"_cnt_"+t[n],u=document.getElementById(c);u?i.ensureClassList(u):console.log("Missing tab container "+t[n]+"("+c+")")}for(n=0;n<t.length;n++){var d=e+"_btn_"+t[n],f=document.getElementById(d);f?(i.ensureClassList(f),i.attachEvent(f,"click",function(e){return function(t){s(e)}}(t[n]))):console.log("Missing button "+t[n]+"("+d+")")}}(),a()},i.attachFormInfo=function(){i.attachEvent(window,"load",(function(){var e=i.getForm();if(e){var t=document.createElement("div"),n=document.createElement("input");n.name="page_form_width",n.type="hidden",t.appendChild(n),e.appendChild(t),o(),i.attachEvent(window,"resize",o)}function o(){n.value=e.offsetWidth}}))},i.attachHover=function(e){var t=document.currentScript;if(!t||!t.previousSibling)throw new"Cannot SoSciTools.attachHover() at current position.";for(;t.previousSibling&&Node&&t.previousSibling.nodeType!==Node.ELEMENT_NODE;)t=t.previousSibling;var n,o=t.previousSibling;o.style.display="";var r=0;function s(){r--,window.setTimeout((function(){0===r&&n&&(n.style.display="none")}),250)}o.addEventListener("mouseover",(function t(){1==++r&&function(){if(n||function(){(n=document.createElement("DIV")).innerHTML=e,n.firstChild&&"DIV"===n.firstChild.tagName&&(n=n.firstChild),n.style.display="none",n.style.position="absolute",n.style.zIndex=150,n.style.boxShadow="3px 3px 6px 0px #666666";var o=document.getElementsByTagName("body")[0];if(!o)throw"Unable to locate body tag in DOM";o.appendChild(n),n.addEventListener("mouseover",t),n.addEventListener("mouseout",s)}(),""!==n.style.display){var r=i.getNodePos(o);if(n.style.left=r.x+"px",n.style.top=r.y+r.h+"px",n.style.display="",n.style.height="",!i.testIE()&&"Velocity"in window){n.style.overflow="hidden";var a=n.offsetHeight;if(n.style.boxSizing="border-box",(l=2*a)>400)var l=400;Velocity(n,{height:0,opacity:0},{duration:0}),Velocity(n,{height:a+"px",opacity:1},{duration:l,easing:"swing"})}}}()})),o.addEventListener("mouseout",s)},i.focusFirstFail=function(){function e(e){if(0===e.length)return null;if(!e[0].compareDocumentPosition)return e[0];for(;e.length>1;)e[0].compareDocumentPosition(e[1])&Node.DOCUMENT_POSITION_FOLLOWING?e.shift():e=e.splice(1,1);return e[0]}function t(t,n){for(var o=[],i=0;i<n.length;i++){var r=t.getElementsByClassName(n[i]);r.length>0&&o.push(r[0])}return 0===o.length?null:e(o)}var n,o;if("querySelector"in document?(n=document.querySelector(".s2mark"),o=document.querySelector("div.s2message")):(n=t(document,["s2mark"]),o=t(document,["s2message"])),n){o&&n.parentNode.insertBefore(o,n);var r=document.querySelector("div.s2message");r?(r.focus(),r.scrollIntoView()):(o.focus(),o.scrollIntoView())}else{var s=t(document,["trouble","s2fail"]);if(s){if(i.ensureClassList(s),s.classList.contains("s2question")){var a=t(s,["trouble","s2fail"]);a&&(s=a)}for(var l=["input","select","textarea","button"],c=[],u=0;u<l.length;u++){var d=s.getElementsByTagName(l[u]);d.length>0&&c.push(d[0])}var f=e(c);f&&f.focus()}}},i.FormatterNumberTsd=function(e,t,n,o){var r=document.getElementById(e);if(!r)throw"No input "+e;if(!n)throw"No thousand mark for "+e;function s(){var e=r.value;if(e.match(/\d/)&&o&&!(t<1)){var n,i,s=e.indexOf(o);-1===s?(n=e,i=""):(n=e.substr(0,s),i=e.substr(s));for(var a=i.replace(/[^0-9]/g,"");a.length<t;)a+="0";var l=n+o+a.substr(0,t);if(e!==l)if("number"==typeof r.selectionStart){var c=r.selectionStart;r.value=l,r.selectionStart=c,r.selectionEnd=c}else r.value=l}}i.attachEvent(r,"keyup",(function(e){var s=r.value;if(s.match(/\d/)){var a,l;o?-1===(v=s.indexOf(o))?(a=s,l=null):(a=s.substr(0,v),l=s.substr(v+1)):(a=s,l=null);var c=!1;a.match(/^\s*-\d*/)&&(c=!0);for(var u=a.replace(/[^0-9]/g,""),d=u,f=u.length,m=Math.floor((f-1)/3),p=0;p<m;p++){var v=f-3*(m-p)+p;d=d.substr(0,v)+n+d.substr(v)}var h="";if(c&&(h+="-"),h+=d,t>0&&null!==l){var g=l.replace(/[^0-9]/g,"");h+=o+g.substr(0,t)}var y=h;if(s!==y)if("number"==typeof r.selectionStart){var w=i.getNumericCursorPosition(r.selectionStart,s,y);r.value=y,r.selectionStart=w,r.selectionEnd=r.selectionStart}else r.value=y}})),t>0&&i.attachEvent(r,"change",s),s()},i.FormatterDateDMY=function(e){var t=document.getElementById(e);i.attachEvent(t,"keyup",(function(){var e=t.value,n=e.replace(/[^0-9]/g,"");if(6===n.length||8===n.length){var o=parseInt(n.substr(0,2)),r=parseInt(n.substr(2,2)),s=n.substr(4),a=parseInt(s);a<20?a=2e3+a:a<100&&(a=1900+a);var l=new Date(a,r-1,o,0,0,0);if(l.getDate()===o&&l.getMonth()+1===r&&l.getFullYear()===a){var c=String(o);c.length<2&&(c="0"+c);var u=String(r);u.length<2&&(u="0"+u);var d=c+"."+u+"."+s;if(e!==d)if("number"==typeof t.selectionStart){var f=i.getNumericCursorPosition(t.selectionStart,e,d);t.value=d,t.selectionStart=f,t.selectionEnd=t.selectionStart}else t.value=d}}}))},i.TimeRecorder=function(e){var t=document.getElementById(e);if(!t||"INPUT"!==t.tagName)throw"SoSciTools.TimeRecorder() expected the ID of an internal variable as parameter";var n,o=parseFloat(t.value);isNaN(o)&&(o=0),window.addEventListener("DOMContentLoaded",(function(){var e=new Date;n=e.getTime()/1e3}));var i=!1;function r(){i=!1}function s(){if(!i){i=!0,window.setTimeout(r,100);var e=(new Date).getTime()/1e3-n;t.value=Math.round(10*(o+e))/10}}window.addEventListener("mousemove",s),window.addEventListener("pointerup",s),window.addEventListener("touchup",s),window.addEventListener("keyup",s),this.recordReload=function(){function e(){i=!1,s()}window.addEventListener("beforeunload",e),window.addEventListener("unload",e)},this.recordNow=function(){i=!1,s()}},i.recordTime=function(e,t,n){var o=String(t);o.length<2&&(o="0"+o);var r=e+"_"+o,s=new i.TimeRecorder(r);return n&&s.recordReload(),s},i.AutoSubmitter=function(e,t){function n(n){void 0===n&&(n=t()),"hide"===e&&(n?i.submitButtonsDisplay():i.submitButtonsHide()),"disable"===e&&(n?i.submitButtonEnable(!0):i.submitButtonEnable(!1))}if(this.check=function(){null!==e&&(t()?(n(!0),i.submitPage()):n(!1))},"submit"!==e&&"hide"!==e&&"disable"!==e)throw"Invalid AutoSubmit mode: "+(e=null);n()},i.SelectAllOption=function(e,t){var n=document.getElementById(e),o=[];for(var r in t){var s=document.getElementById(t[r]);s&&o.push(s)}if(!n)throw"There is no element with the ID "+e+" for SoSciTools.SelectAllOption()";function a(){for(var e=0,t=0;t<o.length;t++)o[t].checked&&e++;e===o.length?(n.checked=!0,n.indeterminate=!1):0===e?(n.checked=!1,n.indeterminate=!1):(n.checked=!1,n.indeterminate=!0)}i.attachEvent(n,"click",(function(){n.indeterminate=!1;for(var e=0;e<o.length;e++)o[e].checked=n.checked}));for(var l=0;l<o.length;l++)o[l].addEventListener("click",a)},i.DarkModeAuto=function(){function e(){document.body.classList&&document.body.classList.contains("s2display-auto")&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.body.classList.add("s2display-inverse"),document.body.classList.remove("s2display-original")):(document.body.classList.add("s2display-original"),document.body.classList.remove("s2display-inverse")))}window.addEventListener("DOMContentLoaded",(function(){e(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e)}))},new i.DarkModeAuto,i.redirectEvent=function(e,t,n,o){t.addEventListener(e,(function(e){n.dispatchEvent(new e.constructor(e.type,e)),o&&e.preventDefault(),e.stopPropagation()}))},i.attachEvent(window,"load",i.optimizeTooltips),i.attachEvent(window,"load",i.optimizeTextinputs),i.attachEvent(window,"DOMContentLoaded",i.optimizeMoreBox),i.attachEvent(window,"DOMContentLoaded",i.optimizeAccordion),i.attachEvent(window,"DOMContentLoaded",i.optimizeSelectOnClick),i.attachEvent(window,"DOMContentLoaded",i.createMirrorInputs),i.attachEvent(window,"load",i.optimizeCanvas),i.attachEvent(window,"load",i.optimizeColorPicker),i.attachEvent(window,"load",i.focusFirstFail),i.attachEvent(window,"load",i.runControllerFeatures),window.oFbGeneral=i;var r=i}(),o.default}()}));